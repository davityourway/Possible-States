from typing import List

import matplotlib.pyplot as plt

nonterm_prop = [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9992535, 0.9984825, 0.9954675, 0.992483, 0.985221, 0.977913, 0.9637075, 0.9498565, 0.9257625, 0.9024825, 0.8664875, 0.8318905, 0.7826335, 0.7361535, 0.6741915, 0.6178625, 0.547501, 0.485772, 0.413392, 0.352017, 0.2847575, 0.230693, 0.175679, 0.1340475, 0.0949325, 0.067515, 0.044045, 0.028886, 0.0172395, 0.0105195]
term_prop = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0007465, 0.0015165, 0.004528, 0.007498, 0.0147355, 0.021963, 0.036023, 0.0494835, 0.0729285, 0.094961, 0.128837, 0.159931, 0.203809, 0.2419875, 0.291768, 0.3309525, 0.377501, 0.408507, 0.4402555, 0.453203, 0.459851, 0.447076, 0.424413, 0.386337, 0.339643, 0.286781, 0.231026, 0.179401, 0.130844, 0.0919355]
illegal_prop = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1e-06, 4.5e-06, 1.9e-05, 4.35e-05, 0.000124, 0.0002695, 0.00066, 0.001309, 0.0025565, 0.0046755, 0.0081785, 0.0135575, 0.021859, 0.0340405, 0.051185, 0.074998, 0.105721, 0.1463525, 0.19478, 0.2553915, 0.322231, 0.399908, 0.4796155, 0.5654245, 0.645704, 0.724929, 0.791713, 0.8519165, 0.897545]

states_per_turn = [1, 36.0, 1260.0, 21420.0, 353430.0, 3769920.0, 38955840.0, 292168800.0, 2118223800.0, 11862053280.0, 64055087712.0, 277572046752.0, 1156550194800.0, 3965314953600.0, 13028891990400.0, 35829452973600.0, 94052314055700.0, 209005142346000.0, 441233078286000.0, 794219540914800.0, 1350173219555160.0, 1963888319352960.0, 2678029526390400.0, 3124367780788800.0, 3384731762521200.0, 3124367780788800.0, 2643695814513600.0, 1888354153224000.0, 1213941955644000.0, 647435709676800.0, 302136664515840.0, 113301249193440.0, 35406640372950.0, 8330974205400.0, 1470171918600.0, 163352435400.0, 9075135300.0]
non_terminal_per_turn = [1, 36.0, 1260.0, 21420.0, 353430.0, 3769920.0, 38955840.0, 291950695.9908, 2115009395.3835, 11808288523.5084, 63573585617.6689, 273469809473.0522, 1131005470647.4524, 3821403760646.472, 12375577744879.377, 33169563958472.37, 84880567519773.27, 181100343278529.66, 367057606111879.7, 621582819074543.1, 993934741181799.5, 1324036811857051.2, 1654654018249388.5, 1710594484349648.8, 1644207917743448.2, 1291588645635843.5, 930625869537634.0, 537723007786683.2, 280047911573381.3, 113740858040310.55, 40500664536687.07, 10755970839056.242, 2390479324779.719, 366937758876.843, 42467386040.679596, 2816114310.0783, 95465885.78835]
term_per_turn = [0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 218104.0092, 3212286.3927, 53711377.251839995, 480285047.664576, 4090162894.914096, 25401311928.3924, 142842540573.5328, 644715176806.9584, 2612988261185.1875, 8931301795043.328, 26927595524431.6, 70566847443358.27, 161869090414304.47, 326725041967104.25, 572999767160974.5, 886300566832718.8, 1179451961615552.8, 1382686618112248.0, 1375520099515063.5, 1198130874225007.0, 868361545714209.6, 542724313761496.94, 274780131851059.72, 116726572559056.08, 38481976179807.54, 10153951732794.975, 1924671646776.7405, 263750312368.7586, 21373686057.477596, 834327101.37315]
illegal_per_turn = [0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 2118.2237999999998, 53379.239760000004, 1217046.666528, 12074384.033712, 143412224.1552, 1068652379.9951999, 8599068713.664, 46900753942.4424, 240444740883.39706, 977203543038.723, 3608624730762.051, 10767631425952.4, 29513436406256.242, 66851740334934.44, 137074941308292.62, 234321334823598.4, 357837226665503.75, 457259035637892.8, 514939070750959.0, 482269599723107.2, 391169730309121.75, 258914719785429.72, 144909427420096.84, 64063302174576.22, 22862209315375.305, 6039364799746.417, 1163954220190.5618, 139162635032.4441, 8145342312.8385]

def plot_proportions(nonterm_prop: List[float], term_prop: List[float], illegal_prop: List[float], m:int, n:int, k:int):
    plt.title(label=f"m={m}, n={n}, k={k}")
    plt.plot(nonterm_prop)
    plt.plot(term_prop)
    plt.plot(illegal_prop)
    labels = ["Non Terminal", "Terminal", "Illegal"]
    plt.legend(labels=labels)
    plt.ylabel("Proportion of States")
    plt.xlabel("Turn")
    plt.show()

def plot_log_states(statespt: List[float], non_termpt: List[float], termpt: List[float], illegalpt: List[float], m:int, n:int, k:int):
    plt.title(label=f"m={m}, n={n}, k={k}")
    plt.plot(statespt, linestyle='dashed')
    plt.plot(non_termpt)
    plt.plot(termpt)
    plt.plot(illegal_per_turn)
    plt.yscale("log")
    labels = ["Possible States", "Non Terminal", "Terminal", "Illegal"]
    plt.legend(labels=labels)
    plt.ylabel("Log(States)")
    plt.xlabel("Turn")
    plt.show()

def plot_states(statespt: List[float], non_termpt: List[float], termpt: List[float], illegalpt: List[float], m:int, n:int, k:int):
    plt.title(label=f"m={m}, n={n}, k={k}")
    plt.plot(statespt)
    plt.plot(non_termpt)
    plt.plot(termpt)
    plt.plot(illegal_per_turn)
    labels = ["Possible States", "Non Terminal", "Terminal", "Illegal"]
    plt.legend(labels=labels)
    plt.ylabel("States")
    plt.xlabel("Turn")
    plt.show()


plot_proportions(nonterm_prop, term_prop, illegal_prop, 4, 9, 4)
plot_log_states(states_per_turn, non_terminal_per_turn, term_per_turn, illegal_per_turn, 4, 9, 4)
plot_states(states_per_turn, non_terminal_per_turn, term_per_turn, illegal_per_turn, 4, 9, 4)